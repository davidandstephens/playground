<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Koopa Troopa Kart</title>
    <style>
        * {
            margin: 0;
        }
        div {
            display: block;
        }
        #track {
            width: 100vw;
            height: 100vh;
            display: block;
            margin: auto;
        }
        .koopa {
            margin: 15px 0;
            position: absolute;
        }
        #koopa-gif{
            width: 120px;
            margin: 30px;
        }
    </style>
</head>
<body>

        <img id="koopa-gif" class="koopa" src="../img/spinning-koopa.gif" alt="koopa">
        <div>
            <img id="track" src="../img/track.jpg" alt="track">
        </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script>
        // $(document).on('keydown', function(e) {
        //     if (document.getElementById("koopa-gif") !== null) {
        //         document.getElementById("koopa-gif").removeAttribute("id", "koopa-gif");
        //     }
        //     e.preventDefault();
        //     var keyPress = e.key;
        //     switch(keyPress){
        //         case("ArrowUp"):
        //             $('.koopa').attr('src', '../img/koopa-up.png');
        //             $('.koopa').animate({"bottom": "+=25px"}, 35);
        //             break;
        //         case("ArrowDown"):
        //             $('.koopa').attr('src', '../img/koopa-down.png');
        //             $('.koopa').animate({"bottom": "-=25px"}, 35);
        //             break;
        //         case("ArrowLeft"):
        //             $('.koopa').attr('src', '../img/koopa-left.png');
        //             $('.koopa').animate({ "left": "-=25px" }, 35 );
        //             break;
        //         case("ArrowRight"):
        //             $('.koopa').attr('src', '../img/koopa-right.png');
        //             $('.koopa').animate({"left": "+=25px"}, 35);
        //             break;
        //         default:
        //             break;
        //     }
        // });

        $(document).on('keydown', function(e) {
            if (document.getElementById("koopa-gif") !== null) {
                document.getElementById("koopa-gif").removeAttribute("id", "koopa-gif");
            }
            let keyPress = e.key;
            if (keyPress === 'f') {

                    $('.koopa')
                        .attr('src', '../img/koopa-left.png')
                        .css('left', '23vw')
                        .css('top', '5vh')
                        .delay(3000);
                for (let i = 1; i <= 3; i++) {
                    $('.koopa')
                        .animate({"left": "-=10vw"}, 350, function () {
                            $('.koopa').attr('src', '../img/koopa-down.png')
                        })
                        .animate({"left": "-=7vw", "top": "+=20vh"}, 350)
                        .animate({"top": "+=400px", "left": "+=25px"}, 750, function () {
                            $('.koopa').attr('src', '../img/koopa-right.png')
                        })
                        .animate({"left": "+=10vw", "top": "+=10vh"}, 350, function () {
                            $('.koopa').attr('src', '../img/koopa-right.png')
                        })
                        .animate({"left": "+=30vw", "top": "-=30vh"}, 550
                            , function () {
                                $('.koopa').attr('src', '../img/koopa-up.png')
                            })
                        .animate({"left": "+=35vw", "top": "-=38vh"}, 950, function () {
                            $('.koopa').attr('src', '../img/koopa-down.png')
                        })
                        .animate({"left": "+=5vw", "top": "+=7vh"}, 350, function () {
                            $('.koopa').attr('src', '../img/koopa-down.png')
                        })
                        .animate({"top": "+=47vh", "left": "-=1vw"}, 750
                            , function () {
                                $('.koopa').attr('src', '../img/koopa-left.png')
                            })
                        .animate({"top": "+=10vh", "left": "-=11vw"}, 450)
                        .animate({"left": "-=10vw"}, 350, function () {
                            $('.koopa').attr('src', '../img/koopa-up.png')
                        })
                        .animate({"top": "-=38vh", "left": "-=15vw"}, 650, function () {
                            $('.koopa').attr('src', '../img/koopa-left.png')
                        })
                        .animate({"top": "-=29vh", "left": "-=27.5vw"}, 750);
                }
            }
        });
    </script>
</body>
</html>